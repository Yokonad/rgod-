/* Layout & Background */
.logs-layout {
    position: relative;
    min-height: 100vh;
    width: 100%;
    overflow-x: hidden;
}

.animated-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg-light);
    z-index: 0;
    transition: background-color 0.3s ease;
}

.logs-container {
    position: relative;
    z-index: 1;
    padding: 20px;
    max-width: 1400px;
    margin: 0 auto;
}

/* Header */
.module-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid var(--border-color);
    transition: var(--transition);
}

.header-left {
    display: flex;
    align-items: center;
    gap: 20px;
}

.title-container {
    display: flex;
    align-items: center;
}

.module-header h1 {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 28px;
    font-weight: 700;
    color: var(--text-dark);
    letter-spacing: 0.5px;
    margin: 0;
}

.title-icon {
    width: 36px;
    height: 36px;
}

.btn-back {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    background: var(--color-primary);
    border: none;
    color: white;
    font-weight: 600;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s;
    width: fit-content;
    box-shadow: 0 4px 6px rgba(10, 164, 164, 0.2);
}

.btn-back:hover {
    background: var(--color-primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(10, 164, 164, 0.3);
    color: white;
}

.btn-back svg {
    width: 20px;
    height: 20px;
    stroke: white;
}

.btn-back svg {
    width: 20px;
    height: 20px;
}

/* Stats Cards */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
    margin-bottom: 24px;
}

.stat-card {
    background: var(--bg-white);
    padding: 24px;
    border-radius: 16px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    display: flex;
    gap: 20px;
    transition: transform 0.2s, box-shadow 0.2s;
    min-height: 120px;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.stat-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    flex-shrink: 0;
}

.stat-icon svg {
    width: 24px;
    height: 24px;
}

.stat-content {
    flex: 1;
}

.stat-content h3 {
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    color: var(--text-gray);
    margin: 0 0 8px 0;
    letter-spacing: 0.05em;
}

.stat-number {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-dark);
    margin: 0 0 4px 0;
    line-height: 1.2;
}

.stat-subtitle {
    font-size: 13px;
    color: var(--text-light);
    margin: 0;
}

/* Stat Variants */
.stat-total .stat-icon {
    background: linear-gradient(135deg, #667eea, #764ba2);
}

.stat-errors .stat-icon {
    background: linear-gradient(135deg, #ef4444, #dc2626);
}

.stat-warnings .stat-icon {
    background: linear-gradient(135deg, #f59e0b, #d97706);
}

.stat-critical .stat-icon {
    background: linear-gradient(135deg, #8b5cf6, #6d28d9);
}

/* Filters Section */
.filters-section {
    background: var(--bg-white);
    padding: 24px;
    border-radius: 16px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    margin-bottom: 24px;
}

.filters-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    align-items: flex-end;
}

.filter-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    min-width: 200px;
}

.filter-search {
    flex: 1;
}

.filter-actions {
    display: flex;
    flex-direction: row;
    gap: 12px;
    min-width: auto;
}

.filter-item label {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-dark);
}

.filter-item select,
.filter-item input {
    padding: 10px 14px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    color: var(--text-dark);
    background-color: var(--bg-white);
    transition: all 0.2s;
    height: 42px;
}

.filter-item select:focus,
.filter-item input:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(10, 164, 164, 0.1);
    outline: none;
}

/* Buttons */
.btn-clear,
.btn-refresh {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 0 16px;
    height: 42px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
}

.btn-clear {
    background-color: var(--bg-gray);
    color: var(--text-dark);
    border: 1px solid transparent;
}

.btn-clear:hover {
    background-color: #e2e8f0;
}

.btn-refresh {
    background: var(--color-primary);
    color: white;
    border: none;
}

.btn-refresh:hover {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
}

.btn-refresh svg,
.btn-clear svg {
    width: 18px;
    height: 18px;
}

.btn-icon {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--color-primary);
    padding: 6px;
    border-radius: 6px;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-icon:hover {
    background: rgba(10, 164, 164, 0.1);
    transform: scale(1.1);
}

.btn-icon svg {
    width: 20px;
    height: 20px;
}

.description-cell {
    max-width: 300px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Table */
/* Table Container - Remove excess borders and add scroll */
.logs-table-container {
    background: var(--bg-white);
    border-radius: 16px;
    box-shadow: var(--shadow-sm);
    overflow: hidden;
    border: 1px solid var(--border-color);
    margin-bottom: 24px;
    display: flex;
    flex-direction: column;
}

.table-scroll-area {
    max-height: calc(100vh - 350px);
    overflow-y: auto;
    overflow-x: auto;
    /* Custom Scrollbar for Webkit */
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary-light) transparent;
}

.table-scroll-area::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.table-scroll-area::-webkit-scrollbar-track {
    background: transparent;
}

.table-scroll-area::-webkit-scrollbar-thumb {
    background-color: #cbd5e1;
    border-radius: 3px;
}

.table-scroll-area::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-primary);
}

.logs-table {
    width: 100%;
    border-collapse: separate; /* Required for sticky to work properly with borders sometimes, but collapse usually works fine too. Let's stick to collapse if we can, but if borders get weird, switch. Sticky needs th to be direct child or similar scope. */
    border-collapse: collapse; 
}

.logs-table th {
    position: sticky;
    top: 0;
    z-index: 10; /* Ensure header stays on top */
    background: var(--color-primary);
    background-image: none !important;
    /* Prevent diagonal usage artifacts */
    /* Teal header in Light Mode too */
    padding: 16px 24px;
    text-align: left;
    font-size: 12px;
    font-weight: 600;
    color: white;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border: none;
    /* No borders in header */
    box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* Subtle shadow for depth when scrolling */
}

.logs-table td {
    padding: 16px 24px;
    border-bottom: 1px solid var(--border-color);
    font-size: 14px;
    color: var(--text-dark);
    vertical-align: middle;
}

.logs-table tr:last-child td {
    border-bottom: none;
}

.logs-table tr:hover td {
    background-color: rgba(0, 0, 0, 0.02);
}

/* Badges */
.module-badge {
    background: var(--bg-gray);
    color: var(--text-dark);
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    font-family: monospace;
}

.type-badge,
.severity-badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

/* Type Badges */
.type-create {
    background: #dcfce7;
    color: #166534;
}

.type-update {
    background: #dbeafe;
    color: #1e40af;
}

.type-delete {
    background: #fee2e2;
    color: #991b1b;
}

.type-auth {
    background: #f3e8ff;
    color: #6b21a8;
}

.type-error {
    background: #fee2e2;
    color: #991b1b;
}

.type-warning {
    background: #fef3c7;
    color: #92400e;
}

.type-info {
    background: #e0f2fe;
    color: #075985;
}

/* Severity Badges */
.severity-low {
    background: #dcfce7;
    color: #166534;
}

.severity-medium {
    background: #fef3c7;
    color: #92400e;
}

.severity-high {
    background: #fee2e2;
    color: #991b1b;
}

.severity-critical {
    background: #7f1d1d;
    color: #fecaca;
}

/* Actions */
.btn-view {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: white;
    color: var(--text-gray);
    cursor: pointer;
    transition: all 0.2s;
}

.btn-view:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
    background: #f0f9ff;
}

/* Pagination */
.pagination {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 24px;
}

.btn-page {
    min-width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: white;
    color: var(--text-gray);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    padding: 0 12px;
}

.btn-page:hover:not(:disabled) {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

.btn-page.active {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
}

.btn-page:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: var(--bg-gray);
}

.page-numbers {
    display: flex;
    gap: 4px;
}

.page-info {
    margin-left: 16px;
    color: var(--text-light);
    font-size: 14px;
}

/* Modal */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 20px;
}

.modal-content {
    background: var(--bg-white);
    border-radius: 24px;
    width: 100%;
    max-width: 800px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    animation: modal-slide 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes modal-slide {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.96);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.modal-header {
    padding: 24px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h2 {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-dark);
    margin: 0;
}

.modal-close-btn {
    background: none;
    border: none;
    color: var(--text-gray);
    cursor: pointer;
    padding: 8px;
    border-radius: 8px;
    transition: all 0.2s;
}

.modal-close-btn:hover {
    background: var(--bg-gray);
    color: var(--text-dark);
}

.modal-body {
    padding: 24px;
    overflow-y: auto;
}

.detail-section {
    margin-bottom: 32px;
}

.detail-section h3 {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-gray);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0 0 16px 0;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-color);
}

.detail-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.detail-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.detail-item.full-width {
    grid-column: 1 / -1;
}

.detail-item strong {
    font-size: 12px;
    color: var(--text-light);
    font-weight: 600;
}

.detail-item span,
.detail-item p {
    font-size: 14px;
    color: var(--text-dark);
    word-break: break-all;
}

.description-text {
    background: var(--bg-gray);
    padding: 16px;
    border-radius: 8px;
    line-height: 1.6;
    white-space: pre-wrap;
}

.metadata-code,
.stack-trace {
    background: #1e1e1e;
    color: #d4d4d4;
    padding: 16px;
    border-radius: 8px;
    font-family: 'Fira Code', monospace;
    font-size: 13px;
    overflow-x: auto;
    line-height: 1.5;
}

.error-box {
    background: #fee2e2;
    border: 1px solid #fecaca;
    border-radius: 8px;
    padding: 16px;
}

.error-message {
    color: #991b1b;
    font-weight: 500;
    margin-bottom: 12px;
}

.modal-footer {
    padding: 24px;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end;
}

/* Loading & Empty States */
.loading-spinner,
.no-data {
    padding: 48px;
    text-align: center;
    color: var(--text-gray);
}

.spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--bg-gray);
    border-top-color: var(--color-primary);
    border-radius: 50%;
    margin: 0 auto 16px;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Theme Switch */
/* Dark Mode Toggle - Standard Element */
.dark-mode-container {
    display: flex;
    align-items: center;
}

.theme-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 60px;
    cursor: pointer;
    z-index: 1000;
}

.theme-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.5);
    /* Semi-transparent in light mode for better blend */
    border: 3px solid rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.slider:hover {
    background: rgba(255, 255, 255, 0.8);
    transform: scale(1.05);
}

.sun-icon,
.moon-icon {
    width: 28px;
    height: 28px;
    position: absolute;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.sun-icon {
    opacity: 1;
    transform: rotate(0deg) scale(1);
    filter: brightness(0);
    /* Black icon in light mode */
}

/* In Logs context, title color might need adjustment if header is transparent */
.moon-icon {
    opacity: 0;
    transform: rotate(180deg) scale(0.5);
    filter: brightness(0) invert(1);
}

input:checked+.slider {
    background: rgba(10, 164, 164, 0.3);
    border-color: rgba(10, 164, 164, 0.6);
}

input:checked+.slider:hover {
    border-color: rgba(10, 164, 164, 0.8);
}

input:checked+.slider .sun-icon {
    opacity: 0;
    transform: rotate(-180deg) scale(0.5);
}

input:checked+.slider .moon-icon {
    opacity: 1;
    transform: rotate(0deg) scale(1);
}

/* DARK MODE OVERRIDES */
/* We rely on global theme variables from eje-theme.css */
/* var(--bg-white) becomes #1e293b and var(--bg-light) becomes #0f172a in dark mode */

body.dark-mode .logs-layout {
    background-color: var(--bg-light);
}

body.dark-mode .animated-background {
    opacity: 0.05;
}

/* Panels & Cards - relying on variables */
/* Panels & Cards - relying on variables */
body.dark-mode .stat-card,
body.dark-mode .filters-section,
body.dark-mode .logs-table-container,
body.dark-mode .modal-content {
    background: var(--bg-white) !important;
    color: var(--text-dark) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: var(--shadow-md) !important;
}

/* Header Text in Dark Mode - Ensure visible against transparent background */
body.dark-mode .module-header h1 {
    color: var(--text-dark) !important;
}

/* Text Colors */
body.dark-mode .title,
body.dark-mode .stat-number,
body.dark-mode .modal-header h2,
body.dark-mode .detail-item p {
    color: var(--text-dark) !important;
}

body.dark-mode .title-icon {
    filter: brightness(0) invert(1);
}

body.dark-mode .subtitle,
body.dark-mode .stat-label,
body.dark-mode .detail-section h3,
body.dark-mode .detail-item strong {
    color: var(--text-gray) !important;
}

/* Inputs & Selects */
body.dark-mode .filter-item select,
body.dark-mode .filter-item input {
    background: var(--bg-light) !important;
    color: var(--text-dark) !important;
    border-color: var(--border-color) !important;
}

body.dark-mode .filter-item select:focus,
body.dark-mode .filter-item input:focus {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 3px rgba(10, 164, 164, 0.2) !important;
}

/* Table Styles - Teal Header Match */
/* Table Styles - Dark Mode */
body.dark-mode .logs-table th {
    background: var(--color-primary) !important;
    color: white !important;
}

body.dark-mode .logs-table td {
    border-bottom-color: var(--border-color);
    color: var(--text-gray);
}

body.dark-mode .logs-table tr:hover td {
    background-color: rgba(255, 255, 255, 0.05);
    /* Subtle white hover for dark mode */
}

body.dark-mode .logs-table tr:hover td {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Buttons in Dark Mode */
body.dark-mode .btn-clear {
    background-color: var(--bg-gray);
    color: var(--text-dark);
}

body.dark-mode .btn-clear:hover {
    background-color: var(--border-color);
}

body.dark-mode .btn-view,
body.dark-mode .btn-page {
    background: var(--bg-light) !important;
    border-color: var(--border-color) !important;
    color: var(--text-gray) !important;
}

body.dark-mode .btn-view:hover,
body.dark-mode .btn-page:hover:not(:disabled) {
    border-color: var(--color-primary) !important;
    color: var(--color-primary) !important;
}

body.dark-mode .btn-page.active {
    background: var(--color-primary) !important;
    color: white !important;
    border-color: var(--color-primary) !important;
}

body.dark-mode .btn-page:disabled {
    background: var(--bg-white) !important;
    opacity: 0.5;
}

body.dark-mode .modal-close-btn {
    color: var(--text-gray);
}

body.dark-mode .modal-close-btn:hover {
    background: var(--bg-gray);
    color: white;
}

/* Description & Code Blocks */
body.dark-mode .description-text {
    background: var(--bg-light);
    color: var(--text-gray);
}

body.dark-mode .metadata-code,
body.dark-mode .stack-trace {
    background: var(--bg-light) !important;
    border: 1px solid var(--border-color);
    color: var(--text-gray);
}

/* Badges in Dark Mode */
body.dark-mode .module-badge {
    background: var(--bg-gray) !important;
    color: var(--text-gray) !important;
}